(()=>{"use strict";const e=e=>e.toString().length<2?"0"+e:e,t=({timing:e,draw:t,duration:r})=>{let s=performance.now();requestAnimationFrame((function o(l){let n=(l-s)/r;n>1&&(n=1);let a=e(n);t(a),n<1&&requestAnimationFrame(o)}))},r={show(e,r,s="block"){e.style.opacity=0,r&&(r.style.opacity=0),e.style.display=s,r&&(r.style.display=s),t({duration:150,timing:e=>e,draw(t){e.style.opacity=t,r&&(r.style.opacity=t)}})},hide(e,r){e.style.opacity=1,r&&(r.style.opacity=1),t({duration:150,timing:e=>e,draw(t){e.style.opacity=1-t,r&&(r.style.opacity=1-t),1===t&&(e.style.display="",r&&(r.style.display=""))}})}},s=({id:t,timerDays:r,timerHours:s,timerMinutes:o,timerSeconds:l})=>{const n=document.getElementById(t),a=n.querySelector(r),c=n.querySelector(s),i=n.querySelector(o),d=n.querySelector(l),u=+n.dataset.days||7;let y,m=!1;const p=()=>{const t=(()=>{const e=new Date,t=e.toString().split(" ");t[2]=+t[2]+u;const r=(new Date(t.slice(1,4)).getTime()-e.getTime())/1e3;return r<0&&(m=!0),{days:Math.floor(r/86400),hours:Math.floor(r/3600)%24,minutes:Math.floor(r/60)%60,seconds:Math.floor(r%60)}})();m?clearInterval(y):(a.textContent=e(t.days),c.textContent=e(t.hours),i.textContent=e(t.minutes),d.textContent=e(t.seconds))};try{if(!(r&&s&&o&&l))throw new Error("Where is the classes for the timer? (Module: timer.js).");if(!(a&&c&&i&&d))throw new Error("Classes for modules/timer.js are faulty.")}catch(e){return}p(),y=setInterval(p,1e3)},o=({blockId:e="benefits",wrapper:r=".benefits-wrap",items:s=".benefits__item",arrows:o=".benefits__arrow",arrowLeft:l=".benefits__arrow--left",arrowRight:n=".benefits__arrow--right",count:a=3})=>{const c=document.getElementById(e);try{if(!c)throw new Error("SliderBlock has been not found (slider.js)")}catch(e){console.error(e)}const i=c.querySelector(r),d=c.querySelectorAll(s);try{if(!i||!d)throw new Error("Where is the slider wrapper OR items? (slider.js)")}catch(e){console.error(e)}let u=0;const y=e=>{document.documentElement.clientWidth>576?(t({duration:500,timing:e=>e,draw(e){i.style.opacity=1-e}}),(e=>{if(i.style.justifyContent="",i.innerHTML="",3==a){let t=e+1>=d.length?e-d.length+1:e+1,r=e+2>=d.length?e-d.length+2:e+2;i.append(d[e],d[t],d[r])}else if(2==a){let t=e+1>=d.length?e-d.length+1:e+1;i.append(d[e],d[t])}})(e),t({duration:500,timing:e=>e,draw(e){i.style.opacity=e}})):(e=>{i.style.justifyContent="center",i.innerHTML="",i.append(d[e])})(e)};c.addEventListener("click",(e=>{e.target.closest(o)&&(e.target.closest(l)?(u--,u<0&&(u=d.length-1)):e.target.closest(n)&&(u++,u>d.length-1&&(u=0)),y(u))})),y(u)},l=({modalClass:e=".header-modal",overlayClass:t=".overlay",btnOpenClass:s=".button",btnCloseClass:o=".header-modal__close"})=>{const l=document.querySelector(e),n=document.querySelector(t);document.addEventListener("click",(e=>{if(e.target.closest(s)){e.preventDefault();const t=e.target.closest(s+" a");if(t&&t.dataset.subject){const e=t.dataset.subject;l.querySelector('input[name="subject"]').value=e}r.show(l,n)}else(e.target.closest(t)||e.target.matches(o))&&r.hide(l,n)}))};s({id:"timer1",timerDays:".count_1 span",timerHours:".count_2 span",timerMinutes:".count_3 span",timerSeconds:".count_4 span"}),s({id:"timer2",timerDays:".count_1 span",timerHours:".count_2 span",timerMinutes:".count_3 span",timerSeconds:".count_4 span"}),((e=100,{id:r="calc",selectTypeId:s="#calc-type",selectMaterialId:o="#calc-type-material",inputSizeId:l="#calc-input",inputTotalId:n="#calc-total"})=>{const a=document.getElementById(r);try{if(!a)throw new Error("Не вижу калькулятор")}catch(e){return}const c=a.querySelector(s),i=a.querySelector(o),d=a.querySelector(l),u=a.querySelector(n);try{if(!(c&&i&&d&&u))throw new Error("Не были найдены input / select для")}catch(e){return}a.addEventListener("input",(r=>{r.target!=c&&r.target!=i&&r.target!=d||(()=>{const r=+c.value,s=+i.value;let o=1,l=0;var n;d.value&&+d.value>0&&(o=+d.value),r&&s&&(l=e*r*s*o),0!==l?(n=l,u.classList.remove("active"),t({duration:500,timing:e=>e,draw(e){u.value=Math.floor(n*e),1===e&&u.classList.add("active")}}),u.value=n):u.value="",u.classList.remove("active")})()}))})(3e3,{id:"calc",selectTypeId:"#calc-type",selectMaterialId:"#calc-type-material",inputSizeId:"#calc-input",inputTotalId:"#calc-total"}),l({modalClass:".header-modal",overlayClass:".overlay",btnOpenClass:".button",btnCloseClass:".header-modal__close"}),l({modalClass:".services-modal",overlayClass:".overlay",btnOpenClass:".service-button",btnCloseClass:".services-modal__close"}),o({blockId:"benefits",wrapper:".benefits-wrap",items:".benefits__item",arrows:".benefits__arrow",arrowLeft:".benefits__arrow--left",arrowRight:".benefits__arrow--right",count:3}),o({blockId:"services",wrapper:".services__wrap",items:".services__item",arrows:".services__arrow",arrowLeft:".services__arrow--left",arrowRight:".services__arrow--right",count:2}),(()=>{const e=document.querySelectorAll("#scroll");seamless.polyfill(),e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const r=e.getAttribute("href").substring(1)+"_1",s=document.getElementById(r);s&&seamless.scrollIntoView(s,{behavior:"smooth",block:"center"})}))}))})(),document.querySelectorAll("input").forEach((e=>{e.addEventListener("input",(t=>{switch(t.target.getAttribute("name")){case"fio":e.value=e.value.replace(/[^А-яA-z]/,"");break;case"phone":e.value=e.value.replace(/[^0-9\+\-\)\( )]/,"")}}))})),(()=>{const e=document.querySelectorAll("form"),t=document.querySelector(".loader-box"),s=document.querySelector(".alert-success"),o=document.querySelector(".alert-danger");e.forEach((e=>{e.addEventListener("submit",(l=>{if(l.preventDefault(),(e=>{let t=!0;return e.forEach((e=>{switch(e.style.borderColor="",e.getAttribute("name")){case"fio":/[А-яA-z]+/g.test(e.value)&&e.value||(e.style.borderColor="red",t=!1);break;case"phone":/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(e.value)&&e.value||(e.style.borderColor="red",t=!1)}})),t})(e.querySelectorAll("input"))){const l=new FormData(e),n={};l.forEach(((e,t)=>{n[t]=e})),e.reset(),t.style.display="block",fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((e=>e.json())).then((()=>{t.style.display="",r.show(s,"","flex"),setTimeout((()=>r.hide(s)),3e3)})).catch((()=>{t.style.display="",r.show(o,"","flex"),setTimeout((()=>r.hide(o)),3e3)}))}}))}))})(),(()=>{const e=document.getElementById("documents"),t=document.querySelector(".overlay");e.insertAdjacentHTML("beforeend",'\n        <div class="preview">\n            <img src="images/documents/original/document4.jpg">\n            <div>\n                <span class="img-close">x</span>\n            </div>\n        </div>\n        '),document.addEventListener("click",(s=>{s.target.closest(".sertificate-document")?(s.preventDefault(),r.show(e.querySelector(".preview"),t)):(s.target.closest(".img-close")||s.target.closest(".overlay"))&&r.hide(e.querySelector(".preview"),t)}))})(),(()=>{const e=document.getElementById("offer"),r=document.getElementById("header"),s=document.getElementById("navigation"),o=document.querySelector(".smooth-scroll"),l=e.clientHeight+r.clientHeight+s.clientHeight;let n=!1;const a=e=>{scrollY<l?n||(o.style.opacity=1,e?t({duration:200,timing:e=>e,draw(e){o.style.opacity=1-e,1===e&&(o.style.display="none")}}):o.style.display="none",n=!0):n&&(o.style.opacity=0,t({duration:200,timing:e=>e,draw(e){o.style.opacity=e}}),o.style.display="block",n=!1)};document.addEventListener("scroll",(e=>{a(e)})),o.addEventListener("click",(()=>{scrollTo({top:0,behavior:"smooth"})})),a()})(),(()=>{const e=document.querySelectorAll(".about-inner");let t=0;setInterval((()=>{e[t].style.transform="scale(120%)",e[t-1]?e[t-1].style.transform="":e[e.length-1].style.transform="",t++,t>=e.length&&(t=0)}),1e3)})()})();